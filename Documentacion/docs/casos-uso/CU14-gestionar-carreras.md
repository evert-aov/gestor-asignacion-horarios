# CU14 - Gestionar Carreras Universitarias

| Campo                                    | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ---------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Caso de uso**                          | CU14 - Gestionar Carreras Universitarias                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Propósito**                            | Permite al Administrador la creación, consulta, edición y eliminación de carreras universitarias, así como la asignación de materias a cada carrera con información de semestre y tipo (obligatoria/electiva).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Actores**                              | • Administrador                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Iniciador**                            | • Administrador                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Precondición**                         | El Administrador debe haber iniciado sesión en el sistema (CU01).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Flujo Principal**                      | • El Administrador accede al módulo de "Gestión Académica" → "University Career Manager".<br>• El sistema muestra la lista de carreras universitarias existentes.<br>• El Administrador puede buscar una carrera específica por nombre, código o facultad.<br>• El Administrador puede crear una nueva carrera completando un formulario con:<br>&nbsp;&nbsp;- Nombre de la carrera<br>&nbsp;&nbsp;- Código único<br>&nbsp;&nbsp;- Nivel de estudio (Licenciatura, Maestría, etc.)<br>&nbsp;&nbsp;- Duración en años<br>&nbsp;&nbsp;- Facultad<br>&nbsp;&nbsp;- Idioma<br>• El Administrador puede seleccionar una carrera existente para editar su información o eliminarla si ya no es necesaria.<br>• El sistema valida que:<br>&nbsp;&nbsp;- Todos los campos obligatorios estén completos<br>&nbsp;&nbsp;- El código de la carrera sea único<br>&nbsp;&nbsp;- La duración esté entre 1 y 10 años<br>&nbsp;&nbsp;- No se elimine una carrera que tenga grupos asociados<br>• El sistema guarda los cambios realizados en la base de datos.<br>• El sistema registra las acciones en la auditoría. |
| **Flujo Alternativo - Asignar Materias** | • El Administrador selecciona "Asignar Materias" para una carrera específica.<br>• El sistema muestra un modal con:<br>&nbsp;&nbsp;- Lista de todas las materias activas disponibles<br>&nbsp;&nbsp;- Materias actualmente asignadas a la carrera<br>• El Administrador puede:<br>&nbsp;&nbsp;- Seleccionar/deseleccionar materias<br>&nbsp;&nbsp;- Asignar el semestre correspondiente a cada materia<br>&nbsp;&nbsp;- Marcar si la materia es obligatoria o electiva<br>• El sistema sincroniza las materias asignadas a la carrera.<br>• El sistema guarda los cambios en la tabla pivot `subject_university_career`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Postcondición**                        | Las carreras universitarias quedan registradas en el sistema y disponibles para asignación a grupos. Las materias quedan asociadas a las carreras correspondientes. Las acciones quedan registradas en la auditoría.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Excepción**                            | • Se intenta crear una carrera con un código que ya existe.<br>• Se intenta eliminar una carrera que tiene grupos asociados.<br>• Se ingresan datos inválidos o incompletos al crear o editar una carrera.<br>• La duración en años está fuera del rango permitido (1-10).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## Atributos de Carrera Universitaria

| Atributo           | Tipo           | Descripción                                     |
| ------------------ | -------------- | ----------------------------------------------- |
| **name**           | String (100)   | Nombre de la carrera                            |
| **code**           | String (20)    | Código único identificador                      |
| **study_level**    | String (50)    | Nivel de estudio (Licenciatura, Maestría, etc.) |
| **duration_years** | Integer (1-10) | Duración de la carrera en años                  |
| **faculty**        | String (100)   | Facultad a la que pertenece                     |
| **language**       | String (50)    | Idioma de enseñanza (por defecto: Español)      |

## Relación Carrera-Materia

La tabla pivot `subject_university_career` almacena:

-   **semester**: Semestre en el que se cursa la materia
-   **is_required**: Indica si la materia es obligatoria (true) o electiva (false)

## Validaciones Implementadas

1. **Código Único**: Verifica que el código de la carrera no exista en el sistema.
2. **Duración Válida**: La duración debe estar entre 1 y 10 años.
3. **Campos Obligatorios**: Todos los campos son requeridos.
4. **Eliminación Segura**: No permite eliminar carreras con grupos asociados.

## Diagrama de Caso de Uso

![Diagrama de Caso de Uso](file:///home/evert/university/subjects/information_systems/gestor-de-horarios-acad-micos/gestion_asignacion_aulas/docs/casos-uso/CU14-gestionar-carreras.png)
